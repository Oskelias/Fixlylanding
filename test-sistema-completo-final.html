<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Test Sistema Completo - Fixly MercadoPago</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container { 
            background: white; 
            padding: 30px; 
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .test-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s;
            position: relative;
        }
        
        .test-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        
        .test-card.success {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }
        
        .test-card.error {
            border-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        }
        
        .test-card.warning {
            border-color: #ffc107;
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        }
        
        .status-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .badge-success { background: #28a745; color: white; }
        .badge-error { background: #dc3545; color: white; }
        .badge-pending { background: #ffc107; color: #856404; }
        
        button {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            margin: 5px;
        }
        
        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,123,255,0.3);
        }
        
        .btn-large {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
        }
        
        .url-display {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: monospace;
            word-break: break-all;
        }
        
        .system-status {
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            font-size: 20px;
            font-weight: bold;
        }
        
        .status-operational {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
        
        .status-partial {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            color: #856404;
        }
        
        .status-down {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            color: white;
        }
        
        .webhook-config {
            background: linear-gradient(135deg, #009ee3, #0088cc);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }
        
        .checklist {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .checklist-item:last-child {
            border-bottom: none;
        }
        
        .status-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 14px;
        }
        
        .icon-pending { background: #ffc107; color: #856404; }
        .icon-success { background: #28a745; }
        .icon-error { background: #dc3545; }
        
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            font-size: 14px;
            margin: 20px 0;
        }
        
        .final-summary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }
        
        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-fill {
            background: linear-gradient(135deg, #28a745, #20c997);
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üéØ Verificaci√≥n Completa del Sistema</h1>
            <p>Fixly Taller + MercadoPago Integration</p>
            <div class="progress-bar">
                <div class="progress-fill" id="overall-progress" style="width: 0%;">0% Completado</div>
            </div>
        </div>

        <!-- URLs Configuradas -->
        <div class="test-card">
            <h2>üîó URLs del Sistema</h2>
            <div>
                <strong>Backend API:</strong>
                <div class="url-display">https://fixly-backend.oscarelias.workers.dev</div>
            </div>
            <div>
                <strong>Admin Console:</strong>
                <div class="url-display">https://uploadassest.pages.dev</div>
            </div>
            <div>
                <strong>Webhook MercadoPago:</strong>
                <div class="url-display">https://fixly-backend.oscarelias.workers.dev/webhook/mercadopago</div>
            </div>
        </div>

        <!-- Sistema Status General -->
        <div class="system-status status-partial" id="system-status">
            <div>üîç Estado del Sistema: Verificando...</div>
            <div id="system-details" style="font-size: 16px; margin-top: 10px; opacity: 0.9;"></div>
        </div>

        <!-- Tests Grid -->
        <div class="test-grid">
            <!-- Backend Test -->
            <div class="test-card" id="backend-card">
                <div class="status-badge badge-pending" id="backend-badge">Pendiente</div>
                <h3>üöÄ Backend API</h3>
                <p>Cloudflare Workers + MercadoPago v5.1.0</p>
                <button onclick="testBackend()">üîç Test Backend</button>
                <div id="backend-details" style="margin-top: 15px;"></div>
            </div>

            <!-- Admin Console Test -->
            <div class="test-card" id="console-card">
                <div class="status-badge badge-pending" id="console-badge">Pendiente</div>
                <h3>üè¢ Admin Console</h3>
                <p>Dashboard administrativo completo</p>
                <button onclick="testAdminConsole()">üß™ Test Console</button>
                <button onclick="openAdminConsole()">üåê Abrir Console</button>
                <div id="console-details" style="margin-top: 15px;"></div>
            </div>

            <!-- MercadoPago Test -->
            <div class="test-card" id="mp-card">
                <div class="status-badge badge-pending" id="mp-badge">Pendiente</div>
                <h3>üí≥ MercadoPago API</h3>
                <p>Endpoints de pagos y reportes</p>
                <button onclick="testMercadoPago()">üí∞ Test MercadoPago</button>
                <div id="mp-details" style="margin-top: 15px;"></div>
            </div>

            <!-- Webhook Test -->
            <div class="test-card" id="webhook-card">
                <div class="status-badge badge-pending" id="webhook-badge">Pendiente</div>
                <h3>üîÑ Webhook System</h3>
                <p>Activaci√≥n autom√°tica por pagos</p>
                <button onclick="testWebhook()">‚ö° Test Webhook</button>
                <div id="webhook-details" style="margin-top: 15px;"></div>
            </div>

            <!-- Users Test -->
            <div class="test-card" id="users-card">
                <div class="status-badge badge-pending" id="users-badge">Pendiente</div>
                <h3>üë• Gesti√≥n Usuarios</h3>
                <p>CRUD completo de usuarios</p>
                <button onclick="testUsers()">üë§ Test Usuarios</button>
                <div id="users-details" style="margin-top: 15px;"></div>
            </div>

            <!-- Integration Test -->
            <div class="test-card" id="integration-card">
                <div class="status-badge badge-pending" id="integration-badge">Pendiente</div>
                <h3>üîó Integraci√≥n Total</h3>
                <p>Flujo completo end-to-end</p>
                <button onclick="testIntegration()">üéØ Test Completo</button>
                <div id="integration-details" style="margin-top: 15px;"></div>
            </div>
        </div>

        <!-- Test Autom√°tico -->
        <div style="text-align: center; margin: 30px 0;">
            <button onclick="runAllTests()" class="btn-large" style="background: linear-gradient(135deg, #28a745, #20c997);">
                üöÄ EJECUTAR TODOS LOS TESTS
            </button>
        </div>

        <!-- Webhook Configuration -->
        <div class="webhook-config">
            <h2>üîÑ Configuraci√≥n Webhook MercadoPago</h2>
            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px;">
                <h3>üìã Informaci√≥n para configurar:</h3>
                <p><strong>URL:</strong> https://fixly-backend.oscarelias.workers.dev/webhook/mercadopago</p>
                <p><strong>Events:</strong> payment.created, payment.updated</p>
                
                <div style="margin-top: 20px;">
                    <a href="https://www.mercadopago.com.ar/developers" target="_blank" 
                       style="background: rgba(255,255,255,0.2); color: white; padding: 12px 20px; border-radius: 8px; text-decoration: none; display: inline-block; margin-right: 10px;">
                        üåê MercadoPago Developers
                    </a>
                    <button onclick="copyWebhookUrl()" style="background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.5);">
                        üìã Copiar URL Webhook
                    </button>
                </div>
            </div>
        </div>

        <!-- Checklist Final -->
        <div class="checklist">
            <h2>‚úÖ Checklist de Verificaci√≥n</h2>
            <div class="checklist-item" id="check-backend">
                <div class="status-icon icon-pending">?</div>
                <div>Backend API funcionando correctamente (v5.1.0-mercadopago-complete)</div>
            </div>
            <div class="checklist-item" id="check-console">
                <div class="status-icon icon-pending">?</div>
                <div>Admin Console accesible y cargando</div>
            </div>
            <div class="checklist-item" id="check-mp">
                <div class="status-icon icon-pending">?</div>
                <div>Endpoints MercadoPago respondiendo correctamente</div>
            </div>
            <div class="checklist-item" id="check-webhook">
                <div class="status-icon icon-pending">?</div>
                <div>Webhook system procesando correctamente</div>
            </div>
            <div class="checklist-item" id="check-users">
                <div class="status-icon icon-pending">?</div>
                <div>Gesti√≥n de usuarios completamente funcional</div>
            </div>
            <div class="checklist-item" id="check-integration">
                <div class="status-icon icon-pending">?</div>
                <div>Integraci√≥n completa funcionando end-to-end</div>
            </div>
        </div>

        <!-- Logs -->
        <div style="margin: 30px 0;">
            <h2>üìã Logs de Verificaci√≥n</h2>
            <pre id="logs">üöÄ Sistema iniciado - Esperando tests...\n</pre>
        </div>

        <!-- Final Summary -->
        <div class="final-summary" id="final-summary" style="display: none;">
            <h2 id="summary-title">üéâ ¬°Sistema Completamente Funcional!</h2>
            <div id="summary-content"></div>
        </div>
    </div>

    <script>
        // Configuraci√≥n
        const API_BASE = 'https://fixly-backend.oscarelias.workers.dev';
        const ADMIN_CONSOLE_URL = 'https://uploadassest.pages.dev';
        const ADMIN_KEY = 'admin123';
        
        let testResults = {
            backend: false,
            console: false,
            mercadopago: false,
            webhook: false,
            users: false,
            integration: false
        };

        // Logging
        function log(message) {
            const logs = document.getElementById('logs');
            const timestamp = new Date().toLocaleTimeString();
            logs.textContent += `[${timestamp}] ${message}\n`;
            logs.scrollTop = logs.scrollHeight;
            console.log(message);
        }

        // Update test status
        function updateTestStatus(testName, success, message, details = '') {
            testResults[testName] = success;
            
            // Update card
            const card = document.getElementById(`${testName}-card`);
            const badge = document.getElementById(`${testName}-badge`);
            const detailsDiv = document.getElementById(`${testName}-details`);
            
            if (success) {
                card.className = 'test-card success';
                badge.className = 'status-badge badge-success';
                badge.textContent = '‚úÖ OK';
            } else {
                card.className = 'test-card error';
                badge.className = 'status-badge badge-error';
                badge.textContent = '‚ùå Error';
            }
            
            if (detailsDiv) {
                detailsDiv.innerHTML = `
                    <div style="color: ${success ? '#155724' : '#721c24'}; font-weight: bold;">
                        ${success ? '‚úÖ' : '‚ùå'} ${message}
                    </div>
                    ${details ? `<div style="margin-top: 10px; font-size: 14px; opacity: 0.8;">${details}</div>` : ''}
                `;
            }
            
            // Update checklist
            const checkItem = document.getElementById(`check-${testName}`);
            if (checkItem) {
                const icon = checkItem.querySelector('.status-icon');
                icon.className = `status-icon ${success ? 'icon-success' : 'icon-error'}`;
                icon.textContent = success ? '‚úì' : '‚úó';
            }
            
            updateOverallProgress();
        }

        // Update overall progress
        function updateOverallProgress() {
            const totalTests = Object.keys(testResults).length;
            const passedTests = Object.values(testResults).filter(Boolean).length;
            const percentage = Math.round((passedTests / totalTests) * 100);
            
            const progressBar = document.getElementById('overall-progress');
            progressBar.style.width = `${percentage}%`;
            progressBar.textContent = `${percentage}% Completado (${passedTests}/${totalTests})`;
            
            // Update system status
            const systemStatus = document.getElementById('system-status');
            const systemDetails = document.getElementById('system-details');
            
            if (percentage === 100) {
                systemStatus.className = 'system-status status-operational';
                systemStatus.innerHTML = '<div>üéâ Sistema Completamente Operativo</div>';
                systemDetails.textContent = 'Todos los componentes funcionando correctamente';
                showFinalSummary(true);
            } else if (percentage >= 50) {
                systemStatus.className = 'system-status status-partial';
                systemStatus.innerHTML = '<div>‚ö†Ô∏è Sistema Parcialmente Operativo</div>';
                systemDetails.textContent = `${passedTests} de ${totalTests} componentes funcionando`;
            } else {
                systemStatus.className = 'system-status status-down';
                systemStatus.innerHTML = '<div>üö® Sistema Requiere Atenci√≥n</div>';
                systemDetails.textContent = `Solo ${passedTests} de ${totalTests} componentes funcionando`;
            }
        }

        // Individual tests
        async function testBackend() {
            log('üöÄ Testing backend API...');
            try {
                const response = await fetch(`${API_BASE}/health`);
                const data = await response.json();
                
                if (data.status === 'ok' && data.version === '5.1.0-mercadopago-complete') {
                    updateTestStatus('backend', true, 'Backend funcionando correctamente', 
                        `Versi√≥n: ${data.version}<br>Features: ${data.features?.length || 0} habilitadas`);
                    log('‚úÖ Backend OK - Versi√≥n: ' + data.version);
                } else {
                    updateTestStatus('backend', false, 'Versi√≥n incorrecta del backend', 
                        `Versi√≥n actual: ${data.version}<br>Esperada: 5.1.0-mercadopago-complete`);
                    log('‚ùå Backend versi√≥n incorrecta: ' + data.version);
                }
            } catch (error) {
                updateTestStatus('backend', false, 'Error conectando con backend', 
                    `Error: ${error.message}`);
                log('‚ùå Error backend: ' + error.message);
            }
        }

        async function testAdminConsole() {
            log('üè¢ Testing admin console...');
            try {
                const response = await fetch(ADMIN_CONSOLE_URL, { method: 'HEAD' });
                if (response.ok) {
                    updateTestStatus('console', true, 'Admin Console accesible', 
                        `Status: ${response.status}<br>URL: ${ADMIN_CONSOLE_URL}`);
                    log('‚úÖ Admin Console OK');
                } else {
                    updateTestStatus('console', false, `Error HTTP ${response.status}`, 
                        `No se puede acceder al admin console`);
                    log('‚ùå Admin Console error: ' + response.status);
                }
            } catch (error) {
                updateTestStatus('console', false, 'Admin Console no accesible', 
                    `Error: ${error.message}`);
                log('‚ùå Error admin console: ' + error.message);
            }
        }

        async function testMercadoPago() {
            log('üí≥ Testing MercadoPago endpoints...');
            try {
                const response = await fetch(`${API_BASE}/api/admin/payments`, {
                    headers: { 'X-Admin-Key': ADMIN_KEY }
                });
                const data = await response.json();
                
                if (data.success) {
                    updateTestStatus('mercadopago', true, 'MercadoPago endpoints OK', 
                        `Payments: ${data.payments?.length || 0}<br>Total: $${data.statistics?.totalAmount || 0}`);
                    log('‚úÖ MercadoPago endpoints funcionando');
                } else {
                    updateTestStatus('mercadopago', false, 'Error en endpoints MercadoPago', 
                        `Error: ${data.error}`);
                    log('‚ùå MercadoPago error: ' + data.error);
                }
            } catch (error) {
                updateTestStatus('mercadopago', false, 'Error conectando MercadoPago', 
                    `Error: ${error.message}`);
                log('‚ùå Error MercadoPago: ' + error.message);
            }
        }

        async function testWebhook() {
            log('üîÑ Testing webhook system...');
            try {
                const testPayload = {
                    type: 'payment',
                    action: 'payment.updated',
                    data: { id: 'test_webhook_' + Date.now() }
                };
                
                const response = await fetch(`${API_BASE}/webhook/mercadopago`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(testPayload)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    updateTestStatus('webhook', true, 'Webhook system funcionando', 
                        `Procesado: ${data.processed ? 'S√≠' : 'No'}<br>Timestamp: ${data.timestamp}`);
                    log('‚úÖ Webhook system OK');
                } else {
                    updateTestStatus('webhook', false, 'Error en webhook system', 
                        `Error: ${data.error}`);
                    log('‚ùå Webhook error: ' + data.error);
                }
            } catch (error) {
                updateTestStatus('webhook', false, 'Error testing webhook', 
                    `Error: ${error.message}`);
                log('‚ùå Error webhook: ' + error.message);
            }
        }

        async function testUsers() {
            log('üë• Testing gesti√≥n de usuarios...');
            try {
                // Test crear usuario
                const testUser = {
                    username: 'test_' + Date.now(),
                    password: 'test123',
                    email: 'test@ejemplo.com',
                    empresa: 'Test Company',
                    tipo: 'pro'
                };
                
                const createResponse = await fetch(`${API_BASE}/api/generate-code`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(testUser)
                });
                
                const createData = await createResponse.json();
                
                if (createData.success) {
                    // Test listar usuarios
                    const listResponse = await fetch(`${API_BASE}/api/admin/users`, {
                        headers: { 'X-Admin-Key': ADMIN_KEY }
                    });
                    const listData = await listResponse.json();
                    
                    if (listData.success) {
                        updateTestStatus('users', true, 'Gesti√≥n usuarios funcionando', 
                            `Usuario creado: ${testUser.username}<br>Total usuarios: ${listData.totalUsers}`);
                        log('‚úÖ Gesti√≥n usuarios OK');
                    } else {
                        throw new Error('Error listando usuarios: ' + listData.error);
                    }
                } else {
                    updateTestStatus('users', false, 'Error creando usuario', 
                        `Error: ${createData.error}`);
                    log('‚ùå Error creando usuario: ' + createData.error);
                }
            } catch (error) {
                updateTestStatus('users', false, 'Error en gesti√≥n usuarios', 
                    `Error: ${error.message}`);
                log('‚ùå Error usuarios: ' + error.message);
            }
        }

        async function testIntegration() {
            log('üîó Testing integraci√≥n completa...');
            
            // Verificar que todos los otros tests hayan pasado
            const criticalTests = ['backend', 'mercadopago', 'webhook'];
            const criticalPassed = criticalTests.every(test => testResults[test]);
            
            if (!criticalPassed) {
                updateTestStatus('integration', false, 'Tests cr√≠ticos fallaron', 
                    'Ejecuta primero los tests individuales');
                log('‚ùå Integraci√≥n: Tests cr√≠ticos no pasados');
                return;
            }
            
            try {
                // Test flujo completo: Backend + MercadoPago + Webhook
                const integrationTests = [
                    { name: 'Health Check', url: `${API_BASE}/health` },
                    { name: 'Admin Auth', url: `${API_BASE}/api/admin/users`, headers: { 'X-Admin-Key': ADMIN_KEY } },
                    { name: 'MercadoPago Reports', url: `${API_BASE}/api/admin/reports/financial?period=month`, headers: { 'X-Admin-Key': ADMIN_KEY } }
                ];
                
                let passedIntegrationTests = 0;
                
                for (const test of integrationTests) {
                    try {
                        const response = await fetch(test.url, { headers: test.headers });
                        const data = await response.json();
                        
                        if (response.ok && (data.status === 'ok' || data.success)) {
                            passedIntegrationTests++;
                            log(`‚úÖ ${test.name}: OK`);
                        } else {
                            log(`‚ùå ${test.name}: Error`);
                        }
                    } catch (error) {
                        log(`‚ùå ${test.name}: ${error.message}`);
                    }
                }
                
                const integrationSuccess = passedIntegrationTests === integrationTests.length;
                
                if (integrationSuccess) {
                    updateTestStatus('integration', true, 'Integraci√≥n completa OK', 
                        `${passedIntegrationTests}/${integrationTests.length} tests pasados<br>Sistema end-to-end funcional`);
                    log('üéâ Integraci√≥n completa exitosa');
                } else {
                    updateTestStatus('integration', false, 'Integraci√≥n parcial', 
                        `${passedIntegrationTests}/${integrationTests.length} tests pasados`);
                    log('‚ö†Ô∏è Integraci√≥n parcial');
                }
            } catch (error) {
                updateTestStatus('integration', false, 'Error en test integraci√≥n', 
                    `Error: ${error.message}`);
                log('‚ùå Error integraci√≥n: ' + error.message);
            }
        }

        // Run all tests
        async function runAllTests() {
            log('üöÄ Ejecutando todos los tests del sistema...');
            
            const tests = [
                testBackend,
                testAdminConsole,
                testMercadoPago,
                testWebhook,
                testUsers,
                testIntegration
            ];
            
            for (let i = 0; i < tests.length; i++) {
                await tests[i]();
                // Peque√±a pausa entre tests
                await new Promise(resolve => setTimeout(resolve, 1000));
            }
            
            log('üèÅ Todos los tests completados');
        }

        // Utility functions
        function openAdminConsole() {
            window.open(ADMIN_CONSOLE_URL, '_blank');
        }

        function copyWebhookUrl() {
            const webhookUrl = `${API_BASE}/webhook/mercadopago`;
            navigator.clipboard.writeText(webhookUrl).then(() => {
                alert('URL webhook copiada al portapapeles');
            }).catch(() => {
                prompt('Copia esta URL:', webhookUrl);
            });
        }

        function showFinalSummary(success) {
            const summaryDiv = document.getElementById('final-summary');
            const titleDiv = document.getElementById('summary-title');
            const contentDiv = document.getElementById('summary-content');
            
            if (success) {
                titleDiv.textContent = 'üéâ ¬°Sistema Completamente Operativo!';
                contentDiv.innerHTML = `
                    <p style="font-size: 18px; margin-bottom: 20px;">
                        Todos los componentes del sistema Fixly + MercadoPago est√°n funcionando correctamente.
                    </p>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: left;">
                        <h3>‚úÖ Sistema Listo Para:</h3>
                        <ul style="margin: 10px 0;">
                            <li>üí∞ Procesamiento de pagos MercadoPago</li>
                            <li>üë• Gesti√≥n completa de usuarios</li>
                            <li>‚ö° Activaci√≥n autom√°tica por pagos</li>
                            <li>üìä Reportes financieros en tiempo real</li>
                            <li>üéØ Administraci√≥n empresarial completa</li>
                        </ul>
                    </div>
                    <p style="margin-top: 20px;">
                        <strong>üöÄ ¬°El sistema est√° listo para producci√≥n!</strong>
                    </p>
                `;
            } else {
                titleDiv.textContent = '‚ö†Ô∏è Sistema Parcialmente Operativo';
                contentDiv.innerHTML = '<p>Algunos componentes requieren atenci√≥n. Revisa los logs para m√°s detalles.</p>';
            }
            
            summaryDiv.style.display = 'block';
        }

        // Auto-start
        window.onload = function() {
            log('üéØ Sistema de verificaci√≥n iniciado');
            log(`üìç Backend: ${API_BASE}`);
            log(`üìç Admin Console: ${ADMIN_CONSOLE_URL}`);
            
            // Auto-ejecutar test b√°sico del backend
            setTimeout(testBackend, 1000);
        };
    </script>
</body>
</html>